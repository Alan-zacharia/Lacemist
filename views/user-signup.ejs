<!DOCTYPE HTML>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Lace Mist</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="">
    <meta property="og:type" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="/assets/imgs/theme/favicon.svg">
    <!-- Template CSS -->
    <link href="/assets/css/main.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <main>
        <header class="main-header style-2 navbar">
            <div class="col-brand">
                <a href="index.html" class="brand-wrap">
                    <img src="/userassets/imgs/theme/icons/lacemist-logo.png" class="logo" alt="Evara Dashboard">
                </a>
            </div>
            <div class="col-nav">
                <ul class="nav">
                    <li class="nav-item">
                        <a class="nav-link btn-icon darkmode" href="#"> <i class="material-icons md-nights_stay"></i>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="requestfullscreen nav-link btn-icon"><i
                                class="material-icons md-cast"></i></a>
                    </li>
                  
                    <li class="dropdown nav-item">
                       
                        <div class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownAccount">
                            <a class="dropdown-item" href="#"><i class="material-icons md-perm_identity"></i>Edit
                                Profile</a>
                            <a class="dropdown-item" href="#"><i class="material-icons md-settings"></i>Account
                                Settings</a>
                            <a class="dropdown-item" href="#"><i
                                    class="material-icons md-account_balance_wallet"></i>Wallet</a>
                            <a class="dropdown-item" href="#"><i class="material-icons md-receipt"></i>Billing</a>
                            <a class="dropdown-item" href="#"><i class="material-icons md-help_outline"></i>Help
                                center</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item text-danger" href="#"><i
                                    class="material-icons md-exit_to_app"></i>Logout</a>
                        </div>
                    </li>
                </ul>
            </div>
        </header>
        <section class="content-main mt-40 mb-20">
            <div class="card mx-auto card-login">
                <div class="card-body">
                    <h4 class="card-title mb-4">Create an Account</h4>
                    <form action="/signup" method="post" onsubmit="return validateForm()">
                        <!-- <div id="signupDiv"> -->
                            <% if (err) { %>
                                <p class="text-danger"> <%= err %> </p>
                              <% } %>
                              
                            <div class="mb-3">
                                <label class="form-label">Username</label>
                                <input class="form-control" name="username" id="username" placeholder="Your username" type="text">
                                <span id="nameMessage" class="text-danger"></span>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Email</label>
                                <input class="form-control" name="email" id="email" placeholder="Your email" type="text">
                                <p class="text-danger" id="errorShow"></p>
                                <span id="emailMessage" class="text-danger"></span>
                            </div> <!-- form-group// -->
                            <div class="mb-3">
                                <label class="form-label">Phone</label>
                                <div class="row gx-2">
                                    <!-- <div class="col-4"> <input class="form-control" value="+91" type="text"> </div> -->
                                    <input class="form-control" name="phone" id="phone" placeholder="Phone" type="text">
                                    <span id="mobileMessage" class="text-danger"></span>
                                </div>
                            </div> <!-- form-group// -->
                            <div class="mb-3">
                                <label class="form-label">Create password</label>
                                <input class="form-control" placeholder="Password" id="password" name="password" type="password">
                                <span id="passwordMessage" class="text-danger"></span>
                            </div> <!-- form-group// -->
                            <div class="mb-3">
                                <label class="form-label">Referal code</label>
                                <% if (referralCode) { %>
                                <input class="form-control" placeholder="Enter referal code" id="referal" name="referal" type="referal" value="<%= referralCode %>">
                                <% } else { %>
                                <input class="form-control" placeholder="Enter referal code" id="referal" name="referal" type="referal">   
                                <% } %>
                        
                                <span id="passwordMessage" class="text-danger"></span>
                            </div> <!-- form-group// -->
                            <!-- form-group  .// -->
                            <div class="mb-4">
                                <button type="submit" class="btn btn-primary w-100"> Sign up </button>
                            </div> <!-- form-group// -->


                        <!-- </div> -->
                    </form>


                    <% if (typeof message !=='undefined' ){ %>
                        <p style="color: green;"><%= message %></p>
                    <% } %>


                    <p class="text-center mb-2">Already have an account? <a href="/login">Log in</a></p>
                </div>
            </div>
        </section>
        <footer class="main-footer text-center">
            <p class="font-xs">
                <script>
                    document.write(new Date().getFullYear())
                </script> Â© LaceMist.
            </p>
            <p class="font-xs pb-20">All rights reserved</p>
        </footer>
    </main>


    <script>
        function validateForm() {
          // Get all input fields
          const nameInput = document.getElementById('username');
          const emailInput = document.getElementById('email');
          const mobileInput = document.getElementById('phone');
          const passwordInput = document.getElementById('password');
    
          // Get all validation messages
          const nameMessage = document.getElementById('nameMessage');
          const emailMessage = document.getElementById('emailMessage');
          const mobileMessage = document.getElementById('mobileMessage');
          const passwordMessage = document.getElementById('passwordMessage');
    
          // Clear all validation messages
          nameMessage.textContent = '';
          emailMessage.textContent = '';
          mobileMessage.textContent = '';
          passwordMessage.textContent = '';
    
          // Validate the first name field
          if (nameInput.value.trim() === '') {
            nameMessage.textContent = 'Please enter your first name.';
          } else if (/^\d+$/.test(nameInput.value.trim())) {
            nameMessage.textContent = 'Please enter a valid user name without numbers.';
          } else {
            // The input is not empty and doesn't contain numbers, clear any previous error message.
            nameMessage.textContent = '';
          }
    
    
    
    
        //   Validate the email field
          if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailInput.value)) {
            emailMessage.textContent = ' enter a valid email address.';
          }
    
          // Validate the mobile field
          if (!/^[789]\d{9}$/.test(mobileInput.value)) {
            mobileMessage.textContent = 'Enter a valid 10-digit number.';
          }    
    
          // Validate the password field
          if (passwordInput.value.length < 6) {
            passwordMessage.textContent = 'Enter a password of 6 characters.';
          }
    
          // If all fields are valid, return true
          if (nameMessage.textContent === '' && emailMessage.textContent === '' && mobileMessage.textContent === '' && passwordMessage.textContent === '') {
            return true;
          }
    
          // Otherwise, return false
          return false;
        }
      </script>


    <script src="/assets/js/vendors/jquery-3.6.0.min.js"></script>
    <script src="/assets/js/vendors/bootstrap.bundle.min.js"></script>
    <script src="/assets/js/vendors/jquery.fullscreen.min.js"></script>
    <!-- Main Script -->
    <script src="/assets/js/main.js" type="text/javascript"></script>
</body>

</html>